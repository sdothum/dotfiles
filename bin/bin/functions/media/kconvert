#!/usr/bin/dash
# sdothum - 2016 (c) wtfpl

# Media
# ══════════════════════════════════════════════════════════════════════════════

# ................................................................ ebook convert

# Usage: [dropcap=<class>] kconvert [<format>|css=<css>]* <epub>*

# SEE: econvert
while : ;do
	case "$1" in
		css=*    ) css="\"$1\""    ;; # BECAUSE: protect spaces within $<var> (css statement)
		default  ) option=default  ;;
		justify  ) option=justify  ;;
		noformat ) option=noformat ;;
		poetry   ) option=noformat ;; # retain poetry formatting
		all      ) option=all      ;;
		*        ) break           ;;
	esac
	shift
done

for i in $@ ;do
	eval menu econvert azw3 $css $option \"$i\"  # kindle
	eval menu econvert epub $css $option \"$i\"  # koreader
done

# kak: filetype=sh
